---
title: action
---

The `action` function wraps an asynchronous function and returns an action.

When an action is invoked, it creates a submission object that tracks its execution status, including whether it is pending, the input it was called with, and the eventual result or error.
This state can be accessed with the [`useSubmission`](/solid-router/reference/data-apis/use-submission) and [`useSubmissions`](/solid-router/reference/data-apis/use-submissions) primitives.

## Parameters

- `handler`:
  An asynchronous function that performs the action's logic.
  When the action is used with a [`<form>` elements](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/form), the function receives a [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) object as its first argument.

- `name` (optional):
  A unique string that is used to identify the action in Server-Side Rendering (SSR) environments.
  This is required when using the action with a `<form>`.

## Returns

`action` returns a new function with the following properties:

- `with`:
  A method that wraps the original action and returns a new one.
  When this new action is invoked, the arguments passed to `with` are forwarded to the original action.
  If the action is used with a `<form>`, the `FormData` object is passed as the last argument, after any other forwarded arguments.

## Examples

### Form submission

```tsx
import { action } from "@solidjs/router";

const addTodoAction = action(async (formData: FormData) => {
	// Adds a new todo to the server.
}, "addTodo");

function TodoForm() {
	return (
		<form action={addTodoAction} method="post">
			<input name="name" />
			<button>Add todo</button>
		</form>
	);
}
```

### Passing additional arguments

```tsx
import { action } from "@solidjs/router";

const addTodoAction = action(async (userId: number, formData: FormData) => {
	// ... Adds a new todo for a specific user.
}, "addTodo");

function TodoForm() {
	const userId = 1;
	return (
		<form action={addTodoAction.with(userId)} method="post">
			<input name="name" />
			<button>Add todo</button>
		</form>
	);
}
```

### Invoking actions programmatically

```tsx
import { action, useAction } from "@solidjs/router";

const markDoneAction = action(async (id: string) => {
	// ... Marks a todo as done on the server.
});

function NotificationItem(props: { id: string }) {
	const markDone = useAction(markDoneAction);

	return <button onClick={() => markDone(props.id)}>Mark as done</button>;
}
```
