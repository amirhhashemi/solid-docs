---
title: createMiddleware
---

`createMiddleware` returns a specification that SolidStart uses to determine when middleware runs during the request lifecycle. See [Middleware](/solid-start/advanced/middleware) to learn more about middleware.

## Parameters

`createMiddleware` takes an object with the following keys:

- `onRequest` (optional): A function or an array of functions that run before the application processes the request.
- `onBeforeResponse` (optional): A function or an array of functions that run after the application has processed the request but before the response is sent to the client.

## Returns

`createMiddleware` returns an object that defines when middleware runs during the request lifecycle.

## Example

```ts
import { createMiddleware } from "@solidjs/start/middleware";

const middlewareSpec = createMiddleware({
	onRequest: (event) => {
		console.log("Request received:", event.request.url);
	},
	onBeforeResponse: (event) => {
		console.log("Sending response:", event.response.status);
	},
});
```
